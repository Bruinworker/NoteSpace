# NoteSpace

A collaborative note-sharing platform for uploading, organizing, and discovering course notes. Built with React (frontend) and Flask (backend).

## ğŸ“‹ Table of Contents

- [Features](#features)
- [Architecture](#architecture)
- [Quick Start](#quick-start)
- [Manual Setup](#manual-setup)
- [API Documentation](#api-documentation)
- [Database Schema](#database-schema)
- [Project Structure](#project-structure)
- [Testing](#testing)

---

## âœ¨ Features

### Core Features
- **User Authentication**: Secure registration and login with JWT tokens
- **File Upload**: Upload notes (PDF, DOCX, TXT, and more) to organized topics
- **File Management**: View, download, and preview uploaded files
- **Topic Organization**: Create and manage topics/courses for organizing notes

### Advanced Features
- **ğŸ” Search**: Search files by filename, topic, or uploader name
- **ğŸ“Š Sorting**: Sort files by upload date (ascending/descending)
- **ğŸ·ï¸ Filtering**: Filter files by topic
- **â¬†ï¸ Upvoting**: Upvote helpful notes (requires authentication)
- **ğŸ‘ï¸ File Viewer**: Preview files directly in the browser (text, images, PDFs)
- **ğŸ¤– Meta Documents**: AI-generated summaries of uploaded notes

---

## ğŸ—ï¸ Architecture

This section presents the architectural diagrams for NoteSpace following standard UML and ER notation. Each diagram captures a distinct view of the system architecture.

---

### 1. Component Diagram (Run-Time View / Component-Connector View)

This component diagram illustrates how the independent, deployable parts of NoteSpace are connected. It shows the required and provided interfaces between components, and helps reason about message flow and deployment.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                    Â«componentÂ»                                           â”‚
â”‚                                  CLIENT TIER                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                            Â«componentÂ»                                              â”‚ â”‚
â”‚  â”‚                        React Frontend (SPA)                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Â«componentÂ»    â”‚  â”‚  Â«componentÂ»    â”‚  â”‚  Â«componentÂ»    â”‚  â”‚ Â«componentÂ»   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚   AuthForm      â”‚  â”‚  UploadPage     â”‚  â”‚  FileListView   â”‚  â”‚ FileViewer    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ [Login/Register]â”‚  â”‚ [Topic Select]  â”‚  â”‚ [Search/Filter] â”‚  â”‚ [Preview/DL]  â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚           â”‚                    â”‚                    â”‚                   â”‚         â”‚ â”‚
â”‚  â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚
â”‚  â”‚                                         â”‚                                          â”‚ â”‚
â”‚  â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚ â”‚
â”‚  â”‚                              â”‚    Â«componentÂ»      â”‚                              â”‚ â”‚
â”‚  â”‚                              â”‚    API Service      â”‚                              â”‚ â”‚
â”‚  â”‚                              â”‚    (Axios + JWT)    â”‚                              â”‚ â”‚
â”‚  â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚ â”‚
â”‚  â”‚                                         â—‹ IRestAPI                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚ HTTP/HTTPS (REST)
                                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                    Â«componentÂ»                                           â”‚
â”‚                                   SERVER TIER                                            â”‚
â”‚                                              â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚       â”‚
â”‚  â”‚                            Â«componentÂ»    â”‚                                   â”‚â”‚       â”‚
â”‚  â”‚                        Flask Application  â”‚                                   â”‚â”‚       â”‚
â”‚  â”‚                                           â”‚                                   â”‚â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚       â”‚
â”‚  â”‚  â”‚  Â«componentÂ»    â”‚  â”‚  Â«componentÂ»    â”‚â”‚â”‚  Â«componentÂ»    â”‚ â”‚Â«componentÂ» â”‚ â”‚â”‚       â”‚
â”‚  â”‚  â”‚  AuthRoutes     â”‚  â”‚  TopicRoutes    â”‚â”‚â”‚  UploadRoutes   â”‚ â”‚MetaDocRouteâ”‚ â”‚â”‚       â”‚
â”‚  â”‚  â”‚ /api/auth/*     â”‚  â”‚ /api/topics/*   â”‚â”‚â”‚ /api/upload/*   â”‚ â”‚/api/meta-* â”‚ â”‚â”‚       â”‚
â”‚  â”‚  â”‚                 â”‚  â”‚                 â”‚â”‚â”‚                 â”‚ â”‚            â”‚ â”‚â”‚       â”‚
â”‚  â”‚  â”‚ â—‹ IUserAuth     â”‚  â”‚ â—‹ ITopicMgmt    â”‚â”‚â”‚ â—‹ IFileUpload   â”‚ â”‚â—‹ IMetaDoc  â”‚ â”‚â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚       â”‚
â”‚  â”‚           â”‚                    â”‚         â”‚         â”‚                â”‚        â”‚â”‚       â”‚
â”‚  â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚â”‚       â”‚
â”‚  â”‚                                          â”‚                                    â”‚â”‚       â”‚
â”‚  â”‚                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚â”‚       â”‚
â”‚  â”‚                         â”‚                â”‚                 â”‚                 â”‚â”‚       â”‚
â”‚  â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                 â”‚â”‚       â”‚
â”‚  â”‚              â”‚    Â«componentÂ»      â”‚  â”‚  Â«componentÂ»     â”‚ â”‚                 â”‚â”‚       â”‚
â”‚  â”‚              â”‚   SQLAlchemy ORM    â”‚  â”‚ ProcessingPipelineâ”‚ â”‚                 â”‚â”‚       â”‚
â”‚  â”‚              â”‚                     â”‚  â”‚                  â”‚ â”‚                 â”‚â”‚       â”‚
â”‚  â”‚              â”‚ â—‹ IDataAccess       â”‚  â”‚ [TextExtractor]  â”‚ â”‚                 â”‚â”‚       â”‚
â”‚  â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ [LLMService]     â”‚ â”‚                 â”‚â”‚       â”‚
â”‚  â”‚                         â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                 â”‚â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚â”‚       â”‚
â”‚                            â”‚                      â”‚                              â”‚â”‚       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚       â”‚
â”‚  â”‚           Â«componentÂ»   â”‚        Â«componentÂ»   â”‚       Â«componentÂ»           â”‚â”‚       â”‚
â”‚  â”‚         DATA TIER       â”‚                      â”‚                              â”‚â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚       â”‚
â”‚  â”‚  â”‚      Â«databaseÂ»          â”‚  â”‚   Â«filesystemÂ»     â”‚  â”‚   Â«externalÂ»      â”‚ â”‚â”‚       â”‚
â”‚  â”‚  â”‚       SQLite             â”‚  â”‚   File Storage     â”‚  â”‚   OpenAI API      â”‚ â”‚â”‚       â”‚
â”‚  â”‚  â”‚     notespace.db         â”‚  â”‚    /uploads/       â”‚  â”‚   (GPT-4)         â”‚ â”‚â”‚       â”‚
â”‚  â”‚  â”‚                          â”‚  â”‚                    â”‚  â”‚                   â”‚ â”‚â”‚       â”‚
â”‚  â”‚  â”‚ [Users, Topics, Notes,   â”‚  â”‚ [PDF, DOCX, TXT,   â”‚  â”‚ â—‹ ILLMSynthesis   â”‚ â”‚â”‚       â”‚
â”‚  â”‚  â”‚  Upvotes, MetaDocuments] â”‚  â”‚  Images, etc.]     â”‚  â”‚                   â”‚ â”‚â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
                                                                                           â”‚
Legend:  â—‹ = Provided Interface    â— = Required Interface    â”€â”€â”€â–º = Dependency           â”‚
         Â«componentÂ» = UML Component Stereotype                                            â”‚
```

**Key Interfaces:**
| Interface | Provider | Description |
|-----------|----------|-------------|
| `IRestAPI` | API Service (Frontend) | HTTP REST calls to backend |
| `IUserAuth` | AuthRoutes | User registration, login, JWT management |
| `ITopicMgmt` | TopicRoutes | Topic CRUD operations |
| `IFileUpload` | UploadRoutes | File upload, download, listing |
| `IMetaDoc` | MetaDocRoutes | AI summary generation and retrieval |
| `IDataAccess` | SQLAlchemy ORM | Database operations |
| `ILLMSynthesis` | OpenAI API | Text synthesis and summarization |

---

### 2. Entity-Relationship Diagram (Data View)

This ERD describes the structure of the data within NoteSpace, following Chen notation with crow's foot cardinality. It shows entities, their attributes, primary/foreign keys, and relationships.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ENTITY-RELATIONSHIP DIAGRAM                                     â”‚
â”‚                                   NoteSpace Database                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         USERS           â”‚                           â”‚         TOPICS          â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Â«PKÂ» id : INTEGER       â”‚                           â”‚ Â«PKÂ» id : INTEGER       â”‚
    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚                           â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
    â”‚ name : VARCHAR(100)     â”‚                           â”‚ name : VARCHAR(200)     â”‚
    â”‚ email : VARCHAR(120) Â«UÂ»â”‚                           â”‚ deadline : DATETIME     â”‚
    â”‚ password_hash: VAR(255) â”‚                           â”‚ created_at : DATETIME   â”‚
    â”‚ created_at : DATETIME   â”‚                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
                â”‚                                                     â”‚
                â”‚ 1                                                   â”‚ 1
                â”‚                                                     â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
                â”‚                          â”‚                         â”‚
                â–¼ 0..*                     â”‚                         â–¼ 0..*
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         NOTES           â”‚           â”‚           â”‚      META_DOCUMENTS     â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Â«PKÂ» id : INTEGER       â”‚           â”‚           â”‚ Â«PKÂ» id : INTEGER       â”‚
    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚           â”‚           â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
    â”‚ Â«FKÂ» user_id : INT (opt)â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚ Â«FKÂ» topic_id : INTEGER â”‚
    â”‚ Â«FKÂ» topic_id : INTEGER â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ Â«FKÂ» note_id : INT (opt)â”‚
    â”‚ file_url : VARCHAR(500) â”‚                       â”‚ synthesized_content:TEXTâ”‚
    â”‚ original_filename:      â”‚                       â”‚ source_filenames : TEXT â”‚
    â”‚        VARCHAR(255)     â”‚                       â”‚ chunk_count : INTEGER   â”‚
    â”‚ file_size : INTEGER     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ token_count : INTEGER   â”‚
    â”‚ upvote_count : INTEGER  â”‚           0..1        â”‚ processing_status :     â”‚
    â”‚ uploaded_at : DATETIME  â”‚                       â”‚        VARCHAR(50)      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚ error_message : TEXT    â”‚
                â”‚                                     â”‚ created_at : DATETIME   â”‚
                â”‚ 1                                   â”‚ updated_at : DATETIME   â”‚
                â”‚                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â–¼ 0..*
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚        UPVOTES          â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Â«PKÂ» id : INTEGER       â”‚
    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
    â”‚ Â«FKÂ» user_id : INTEGER  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º USERS
    â”‚ Â«FKÂ» note_id : INTEGER  â”‚
    â”‚ created_at : DATETIME   â”‚
    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
    â”‚ Â«UCÂ» (user_id, note_id) â”‚  â—„â”€â”€ Unique Constraint: One upvote per user per note
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LEGEND                                                                                       â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ Â«PKÂ» = Primary Key          Â«FKÂ» = Foreign Key           Â«UÂ» = Unique Constraint            â”‚
â”‚ Â«UCÂ» = Unique Constraint (composite)                      (opt) = Optional/Nullable          â”‚
â”‚                                                                                              â”‚
â”‚ CARDINALITY (Crow's Foot Notation):                                                         â”‚
â”‚     1 â”€â”€â”€â”€â”€â”€â”€â”€ 0..* : One-to-Many (zero or more)                                           â”‚
â”‚     1 â”€â”€â”€â”€â”€â”€â”€â”€ 1    : One-to-One                                                            â”‚
â”‚     0..1 â”€â”€â”€â”€â”€ 0..* : Optional One-to-Many                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

RELATIONSHIPS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Relationship      â”‚ Entities        â”‚ Cardinality  â”‚ Description                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ uploads           â”‚ USERS â†’ NOTES   â”‚ 1 : 0..*     â”‚ A user can upload many notes           â”‚
â”‚ belongs_to        â”‚ NOTES â†’ TOPICS  â”‚ 0..* : 1     â”‚ Many notes belong to one topic         â”‚
â”‚ upvotes           â”‚ USERS â†’ NOTES   â”‚ M : N        â”‚ Many-to-many via UPVOTES junction      â”‚
â”‚ summarizes        â”‚ META_DOC â†’ TOPICâ”‚ 0..* : 1     â”‚ Topic can have multiple summaries      â”‚
â”‚ references        â”‚ META_DOC â†’ NOTESâ”‚ 0..1 : 1     â”‚ MetaDoc optionally references one note â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3. Sequence Diagram (Behavioral View)

This sequence diagram describes the interaction protocol between components for the **File Upload with AI Summary Generation** use case. It clarifies protocols, ordering, responsibilities, and integration points.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              SEQUENCE DIAGRAM                                                â”‚
â”‚                    Use Case: File Upload with AI Meta-Document Generation                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚User â”‚          â”‚ React   â”‚       â”‚ Flask      â”‚      â”‚SQLAlchemyâ”‚     â”‚Processingâ”‚    â”‚OpenAI  â”‚
    â”‚     â”‚          â”‚Frontend â”‚       â”‚ Backend    â”‚      â”‚   ORM    â”‚     â”‚ Pipeline â”‚    â”‚  API   â”‚
    â””â”€â”€â”¬â”€â”€â”˜          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚  1. Select File  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚  & Topic         â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚ 2. POST /api/upload/                â”‚                â”‚              â”‚
       â”‚                  â”‚     [file, topic_id, JWT?]          â”‚                â”‚              â”‚
       â”‚                  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚ 3. Validate JWT  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚    (optional)    â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚â”€â”€â”€â”€â”€â”€â”           â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚      â”‚           â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”˜           â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚ 4. Validate      â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚    Topic exists  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚ 4.1 Topic        â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚ 5. Save file to  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚    /uploads/     â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚â”€â”€â”€â”€â”€â”€â”           â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚      â”‚ [UUID     â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”˜  rename]  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚ 6. Create Note   â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚    record        â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚ 6.1 Note created â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚ 7. 201 Created   â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚    {note: {...}} â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚ 8. Upload Successâ”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
   â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•[ AI SUMMARY GENERATION ]â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚ 9. Request Meta  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚    Document      â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚ 10. POST /api/meta-documents/       â”‚                â”‚              â”‚
       â”‚                  â”‚     generate/{topic_id}             â”‚                â”‚              â”‚
       â”‚                  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚ 11. Create MetaDoc               â”‚              â”‚
       â”‚                  â”‚                  â”‚     status='processing'          â”‚              â”‚
       â”‚                  â”‚                  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚ 12. Start        â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚     Pipeline     â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚ 13. Get Notes  â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚ 13.1 Notes[]   â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
       â”‚                  â”‚                  â”‚                  â”‚    â”‚ 14. For each note:    â”‚  â”‚
       â”‚                  â”‚                  â”‚                  â”‚    â”‚     - Read file       â”‚  â”‚
       â”‚                  â”‚                  â”‚                  â”‚    â”‚     - Extract text    â”‚  â”‚
       â”‚                  â”‚                  â”‚                  â”‚    â”‚     - Clean text      â”‚  â”‚
       â”‚                  â”‚                  â”‚                  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
       â”‚                  â”‚                  â”‚                  â”‚    â”‚ 15. Chunk text        â”‚  â”‚
       â”‚                  â”‚                  â”‚                  â”‚    â”‚     (max 8000 tokens) â”‚  â”‚
       â”‚                  â”‚                  â”‚                  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚ 16. POST     â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚  /completionsâ”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚ 16.1 GPT-4   â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚   synthesis  â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚ 17. Update     â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚     MetaDoc    â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚     [synthesized_content,    â”‚
       â”‚                  â”‚                  â”‚                  â”‚      status='completed',     â”‚
       â”‚                  â”‚                  â”‚                  â”‚      chunk_count,            â”‚
       â”‚                  â”‚                  â”‚                  â”‚      token_count]            â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚ 18. 200 OK       â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚   {meta_document}â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚ 19. Display AI   â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚     Summary      â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚                  â”‚                â”‚              â”‚
       â”‚                  â”‚                  â”‚                  â”‚                â”‚              â”‚
    â”Œâ”€â”€â”´â”€â”€â”          â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚User â”‚          â”‚ React   â”‚       â”‚ Flask      â”‚      â”‚SQLAlchemyâ”‚     â”‚Processingâ”‚    â”‚OpenAI  â”‚
    â”‚     â”‚          â”‚Frontend â”‚       â”‚ Backend    â”‚      â”‚   ORM    â”‚     â”‚ Pipeline â”‚    â”‚  API   â”‚
    â””â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜

NOTATION:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º : Synchronous message          â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  : Return message      â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   : Lifeline                     â”€â”€â”€â”€â”€â”€â”             : Self-call           â”‚
â”‚ [condition]        : Guard condition                    â”‚â—„â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚ {text}             : Response/data payload                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 4. State Machine Diagram (Behavioral View)

This state diagram describes the lifecycle of a **MetaDocument** entity, showing the inner state transitions triggered by different events during the AI processing pipeline.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              STATE MACHINE DIAGRAM                                           â”‚
â”‚                           MetaDocument Processing Lifecycle                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚               â”‚
                                    â”‚    (start)    â”‚
                                    â”‚       â—       â”‚
                                    â”‚               â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                                            â”‚ create()
                                            â”‚
                                            â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚                             â”‚
                              â”‚          PENDING            â”‚
                              â”‚                             â”‚
                              â”‚  entry/ set status='pending'â”‚
                              â”‚  do/ await processing start â”‚
                              â”‚                             â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                                            â”‚ startProcessing()
                                            â”‚
                                            â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚                             â”‚
                              â”‚        PROCESSING           â”‚
                              â”‚                             â”‚
                              â”‚  entry/ set status=         â”‚
                              â”‚         'processing'        â”‚
                              â”‚  do/ extract text           â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚  do/ chunk text             â”‚                   â”‚
                              â”‚  do/ call LLM API           â”‚                   â”‚
                              â”‚                             â”‚                   â”‚
                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
                                     â”‚              â”‚                           â”‚
                      [success]      â”‚              â”‚ [error]                   â”‚
                                     â”‚              â”‚                           â”‚
                                     â–¼              â–¼                           â”‚
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
               â”‚                         â”‚    â”‚                         â”‚       â”‚
               â”‚       COMPLETED         â”‚    â”‚         FAILED          â”‚       â”‚
               â”‚                         â”‚    â”‚                         â”‚       â”‚
               â”‚  entry/ set status=     â”‚    â”‚  entry/ set status=     â”‚       â”‚
               â”‚         'completed'     â”‚    â”‚         'failed'        â”‚       â”‚
               â”‚  entry/ save content    â”‚    â”‚  entry/ save error_msg  â”‚       â”‚
               â”‚  entry/ set chunk_count â”‚    â”‚                         â”‚       â”‚
               â”‚  entry/ set token_count â”‚    â”‚                         â”‚       â”‚
               â”‚                         â”‚    â”‚                         â”‚       â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
                            â”‚                              â”‚                     â”‚
                            â”‚                              â”‚ retry()             â”‚
                            â”‚                              â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚                              â”‚
                            â”‚                              â–¼
                            â”‚                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚                       â”‚               â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚    (end)      â”‚
                                                    â”‚       â—‰       â”‚
                                                    â”‚               â”‚
                                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LEGEND                                                                                       â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ â—  = Initial state (start)           â—‰  = Final state (end)                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                                                                                   â”‚
â”‚ â”‚ STATE  â”‚ = State with name          entry/ = Action on state entry                        â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            do/ = Activity while in state                         â”‚
â”‚ â”€â”€â”€â”€â”€â”€â–º = Transition                  [guard] = Condition for transition                    â”‚
â”‚ event() = Trigger event                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TRANSITIONS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Transition        â”‚ From State     â”‚ To State        â”‚ Trigger / Guard                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ create            â”‚ (start)        â”‚ PENDING         â”‚ User requests AI summary              â”‚
â”‚ startProcessing   â”‚ PENDING        â”‚ PROCESSING      â”‚ Pipeline begins processing            â”‚
â”‚ complete          â”‚ PROCESSING     â”‚ COMPLETED       â”‚ [success] LLM returns valid response  â”‚
â”‚ fail              â”‚ PROCESSING     â”‚ FAILED          â”‚ [error] Exception or API error        â”‚
â”‚ retry             â”‚ FAILED         â”‚ PROCESSING      â”‚ User retries generation               â”‚
â”‚ terminate         â”‚ COMPLETED      â”‚ (end)           â”‚ Process complete                      â”‚
â”‚ terminate         â”‚ FAILED         â”‚ (end)           â”‚ User abandons retry                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Data Flow

1. **Authentication Flow**:
   - User registers/logs in â†’ Backend validates â†’ JWT token returned â†’ Token stored in localStorage
   - Subsequent requests include JWT in Authorization header

2. **File Upload Flow**:
   - User selects file + topic â†’ File sent to `/api/upload/` â†’ File saved to `/uploads/` folder
   - Metadata stored in SQLite â†’ Note ID returned to frontend

3. **File Viewing Flow**:
   - User clicks filename â†’ Frontend requests file from `/api/upload/files/{filename}`
   - File served inline for browser preview (text, image, PDF)

---

## ğŸš€ Quick Start

### Prerequisites

- **Python 3.8+** with pip
- **Node.js 16+** with npm
- **Git** for version control

### Option 1: Using npm scripts (Recommended)

```bash
# Clone the repository
git clone https://github.com/Bruinworker/NoteSpace.git
cd NoteSpace

# Install all dependencies
npm install
npm run install-all

# Start both servers (backend + frontend)
npm start
```

### Option 2: Using the startup script (macOS/Linux)

```bash
# Make script executable (first time only)
chmod +x start.sh

# Run both backend and frontend
./start.sh
```

---

## ğŸ”§ Manual Setup

### Backend Setup

1. **Create and activate a virtual environment** (recommended):

```bash
# Windows
python -m venv venv
venv\Scripts\activate

# macOS/Linux
python3 -m venv venv
source venv/bin/activate
```

2. **Install Python dependencies**:

```bash
pip install -r requirements.txt
```

3. **Run the Flask backend**:

```bash
# Option A: From project root (recommended)
# Windows PowerShell:
$env:PYTHONPATH = "."
python backend/app.py

# macOS/Linux:
PYTHONPATH=. python backend/app.py

# Option B: Using Python module
python -m backend.app
```

The backend will run on `http://localhost:5001`

### Frontend Setup

1. **Navigate to frontend directory**:

```bash
cd frontend
```

2. **Install Node.js dependencies**:

```bash
npm install
```

3. **Start the React development server**:

```bash
npm start
```

The frontend will run on `http://localhost:3000`

### Accessing the Application

- **Frontend**: http://localhost:3000 (development)
- **Backend API**: http://localhost:5001/api

**Note**: When running manually, you need **two terminal windows** - one for the backend and one for the frontend.

---

## ğŸ“š API Documentation

### Authentication Endpoints

| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| POST | `/api/auth/register` | Register a new user | No |
| POST | `/api/auth/login` | Login and get JWT token | No |
| POST | `/api/auth/logout` | Logout (client-side) | Yes |
| GET | `/api/auth/me` | Get current user info | Yes |

### Topic Endpoints

| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| GET | `/api/topics/` | List all topics | No |
| POST | `/api/topics/` | Create a new topic | No |
| GET | `/api/topics/<id>` | Get topic details | No |

### Upload Endpoints

| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| POST | `/api/upload/` | Upload a file | No* |
| GET | `/api/upload/list` | List all uploaded files | No |
| GET | `/api/upload/<id>` | Get note details | No |
| GET | `/api/upload/files/<filename>` | View/download a file | No |
| POST | `/api/upload/<id>/upvote` | Upvote a note | Yes |

*Authentication is optional for uploads but recommended to track uploader.

### Request/Response Examples

**Register a User:**
```bash
curl -X POST http://localhost:5001/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{"name": "John Doe", "email": "john@example.com", "password": "password123"}'
```

**Upload a File:**
```bash
curl -X POST http://localhost:5001/api/upload/ \
  -F "file=@notes.pdf" \
  -F "topic_id=1"
```

---

## ğŸ—„ï¸ Database Schema

### Tables

| Table | Description |
|-------|-------------|
| `users` | User accounts with hashed passwords |
| `topics` | Course topics for organizing notes |
| `notes` | Uploaded file metadata |
| `upvotes` | User upvotes on notes |
| `meta_documents` | AI-generated note summaries |

### Key Relationships

- **User â†’ Notes**: One-to-many (user uploads many notes)
- **Topic â†’ Notes**: One-to-many (topic contains many notes)
- **User â†” Notes (via Upvotes)**: Many-to-many (users can upvote many notes)
- **Topic â†’ MetaDocuments**: One-to-many (topic can have summaries)

---

## ğŸ“ Project Structure

```
NoteSpace/
â”œâ”€â”€ backend/                    # Flask backend
â”‚   â”œâ”€â”€ app.py                 # Application factory & configuration
â”‚   â”œâ”€â”€ database.py            # SQLAlchemy database setup
â”‚   â”œâ”€â”€ models.py              # Database models (User, Topic, Note, etc.)
â”‚   â”œâ”€â”€ constants.py           # Configuration constants
â”‚   â”œâ”€â”€ auth_routes.py         # Authentication endpoints
â”‚   â”œâ”€â”€ topic_routes.py        # Topic management endpoints
â”‚   â”œâ”€â”€ upload_routes.py       # File upload/download endpoints
â”‚   â””â”€â”€ meta_document_routes.py # AI summary endpoints
â”‚
â”œâ”€â”€ frontend/                   # React frontend
â”‚   â”œâ”€â”€ public/                # Static files
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.js            # Main application component
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚       â”œâ”€â”€ api.js        # Axios API configuration
â”‚   â”‚       â””â”€â”€ constants.js  # Frontend constants
â”‚   â”œâ”€â”€ cypress/              # E2E tests
â”‚   â”‚   â”œâ”€â”€ e2e/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.cy.js    # Authentication tests
â”‚   â”‚   â”‚   â”œâ”€â”€ upload.cy.js  # Upload tests
â”‚   â”‚   â”‚   â””â”€â”€ filelist.cy.js # File list tests
â”‚   â”‚   â””â”€â”€ support/
â”‚   â”‚       â””â”€â”€ e2e.js        # Cypress custom commands
â”‚   â””â”€â”€ cypress.config.js     # Cypress configuration
â”‚
â”œâ”€â”€ uploads/                   # Uploaded files storage
â”œâ”€â”€ notespace.db              # SQLite database
â”œâ”€â”€ requirements.txt          # Python dependencies
â”œâ”€â”€ package.json              # Root package.json for npm scripts
â””â”€â”€ README.md                 # This file
```

---

## ğŸ§ª Testing

### End-to-End Tests (Cypress)

The project includes 27 automated E2E tests covering:

- **Authentication** (7 tests): Register, login, logout, error handling
- **File Upload** (6 tests): Topic selection, file uploads, validation
- **File List** (14 tests): Search, sort, filter, upvote, file viewer

#### Running Tests

```bash
cd frontend

# Interactive mode (opens Cypress UI)
npm run cypress:open

# Headless mode (CI/CD)
npm run test:e2e
```

**Note**: Both backend (port 5001) and frontend (port 3000) must be running before running tests.

---

## ğŸ” Security Features

- **Password Hashing**: Passwords are hashed using Werkzeug's `generate_password_hash`
- **JWT Authentication**: Stateless authentication with configurable expiry
- **CORS Protection**: Cross-Origin Resource Sharing properly configured
- **Input Validation**: All user inputs are validated and sanitized
- **Secure File Storage**: Files stored with UUID filenames to prevent path traversal

---

## ğŸ“ Configuration

Key configuration values are defined in:

- **Backend**: `backend/constants.py`
  - `MAX_FILE_SIZE_BYTES`: Maximum upload size (default: 16MB)
  - `JWT_ACCESS_TOKEN_EXPIRY_HOURS`: Token expiry (default: 24 hours)
  - `MIN_PASSWORD_LENGTH`: Minimum password length (default: 6)

- **Frontend**: `frontend/src/utils/constants.js`
  - `API_BASE_URL`: Backend API URL

---

## ğŸ¤ Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

---

## ğŸ“„ License

This project is licensed under the MIT License.
